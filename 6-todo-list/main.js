(()=>{"use strict";var t={208:(t,e,n)=>{n.d(e,{A:()=>L});var a=n(601),o=n.n(a),r=n(314),i=n.n(r),s=n(417),d=n.n(s),c=new URL(n(429),n.b),u=new URL(n(810),n.b),l=new URL(n(725),n.b),h=new URL(n(482),n.b),m=new URL(n(487),n.b),g=new URL(n(697),n.b),p=new URL(n(307),n.b),f=new URL(n(689),n.b),b=new URL(n(37),n.b),k=new URL(n(568),n.b),w=new URL(n(569),n.b),v=i()(o());v.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;700;900&display=swap);"]);var y=d()(c),x=d()(u),S=d()(l),T=d()(h),j=d()(m),D=d()(g),P=d()(p),B=d()(f),M=d()(b),E=d()(k),C=d()(w);v.push([t.id,`:root {\n    --container-background: #001d3d;\n    --base-background: #000814;\n    --background: #003566;\n\n    --off-white: #e0e1dd;\n    --yellow: #ffd60a;\n    --accent: #ffc300;\n}\n\nbody {\n    background: var(--base-background);\n    color: var(--off-white);\n    font-family: "Roboto", sans-serif;\n}\n\n#content {\n    width: 600px;\n    margin: 0 auto;\n    background-color: var(--container-background);\n    border-radius: 10px;\n    padding: 20px;\n}\n\nh1 {\n    margin: 0;\n}\n\nbutton:hover {\n    cursor: pointer;\n}\n\np {\n    margin: 0\n}\n\n#project-description {\n    margin-bottom: 10px;\n}\n\n.done p {\n    filter: brightness(70%)\n}\n\n.done>p {\n    text-decoration: line-through;\n}\n\n.hidden {\n    display: none;\n}\n\n.task,\n.subtask {\n    display: flex;\n    align-items: center;\n    position: relative;\n}\n\n.task {\n    background-color: var(--background);\n    border-radius: 5px;\n    margin-top: 10px;\n    padding: 10px;\n    padding-left: 6px;\n}\n\n.task[data-priority="0"] {\n    border-left: solid 10px var(--background);\n}\n\n.task[data-priority="1"] {\n    border-left: solid 10px #01BAEF;\n}\n\n.task[data-priority="2"] {\n    border-left: solid 10px var(--yellow);\n}\n\n.task[data-priority="3"] {\n    border-left: solid 10px #d42834;\n}\n\n.task>p,\n.subtask p {\n    margin: 0 10px\n}\n\n.task-container .description {\n    font-size: 14px;\n    margin: 5px 10px;\n    filter: brightness(85%);\n\n}\n\nbutton.checkBtn {\n    flex-shrink: 0;\n    height: 30px;\n    width: 30px;\n    background-color: transparent;\n    border: solid 2px var(--off-white);\n    border-radius: 8px;\n}\n\nbutton.checkBtn:hover {\n    border-color: var(--accent);\n}\n\n.done button.checkBtn {\n    background: url(${y}) no-repeat center;\n    border-color: var(--accent);\n    filter: brightness(70%)\n}\n\n.done button.checkBtn:hover {\n    filter: none;\n}\n\n.right {\n    flex-shrink: 0;\n    margin-left: auto;\n    margin-right: 0;\n}\n\n.taskBtns {\n    display: none;\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    background-color: var(--background);\n}\n\n.task:hover .taskBtns,\n.subtask:hover .taskBtns {\n    display: initial;\n}\n\n.taskBtns button {\n    border: none;\n    height: 25px;\n    width: 25px;\n    filter: brightness(60%);\n}\n\n.taskBtns button:hover {\n    filter: none;\n}\n\nbutton.editBtn {\n    background: url(${x}) no-repeat center;\n}\n\nbutton.deleteBtn {\n    background: url(${S}) no-repeat center;\n}\n\n.subtask-container {\n    margin-left: 20px;\n}\n\n.subtask-container>button {\n    width: 100%;\n    text-align: right;\n    margin-bottom: 5px;\n    margin-top: 5px;\n    color: var(--off-white);\n    background: url(${T}) no-repeat;\n    background-color: var(--background);\n    border: none;\n    border-radius: 5px;\n    padding: 8px;\n}\n\n.subtask-container>button:hover {\n    filter: brightness(120%);\n}\n\n.subtask {\n    margin: 5px 0;\n}\n\n.subtask .taskBtns {\n    background-color: var(--container-background);\n    top: 1px;\n}\n\n#actions {\n    display: flex;\n    margin: 0 auto;\n    width: fit-content;\n}\n\n#actions button {\n    height: 40px;\n    width: 40px;\n    background-color: var(--container-background);\n    filter: brightness(80%);\n    border: none;\n    margin: 0 5px;\n}\n\n#actions button:active {\n    transform: translateY(2px);\n}\n\n#actions button:hover {\n    filter: none;\n}\n\nbutton#sortBtn {\n    background: url(${j}) no-repeat center;\n}\n\nbutton#sortBtn.asc {\n    background: url(${D}) no-repeat center;\n}\n\nbutton#sortBtn.desc {\n    background: url(${P}) no-repeat center;\n}\n\nbutton#hideBtn {\n    background: url(${B}) no-repeat center;\n}\n\nbutton#hideBtn.off {\n    background: url(${M}) no-repeat center;\n}\n\nbutton#cleanBtn {\n    background: url(${E}) no-repeat center;\n}\n\nbutton#newBtn {\n    background: url(${C}) no-repeat left;\n    width: 115px;\n    background-color: var(--background);\n    color: var(--off-white);\n    text-align: right;\n    padding-right: 5px;\n    margin: 0;\n    font-weight: 900;\n    font-size: 16px;\n}\n\ndialog {\n    width: 300px;\n    margin-top: 300px;\n    background-color: var(--background);\n    color: var(--off-white);\n    border: none;\n    border-radius: 5px;\n    padding: 15px;\n    padding-top: 0;\n}\n\ndialog h2 {\n    font-size: 30px;\n    margin: 0;\n    margin-top: 15px;\n    margin-bottom: 10px;\n\n}\n\ndialog::backdrop {\n    background-color: rgb(0, 0, 0, 0.8);\n}\n\n#main-dialog p {\n    font-size: 25px;\n    margin: 15px 0;\n}\n\n#main-dialog .projects button {\n    background: none;\n    border: none;\n    color: var(--off-white);\n    font-size: 25px;\n    margin: 5px 0;\n}\n\n\n#main-dialog .projects button:hover {\n    color: var(--yellow);\n}\n\n#main-dialog .projects button.add:hover {\n    color: var(--off-white);\n    filter: brightness(120%);\n}\n\n#main-dialog .projects button.add {\n    margin-top: 15px;\n    background: url(${C}) no-repeat left;\n    padding-left: 27px;\n    font-size: 20px;\n    border: 1px solid var(--off-white);\n}\n\n#main-dialog .projects .project {\n    display: flex;\n    align-items: center;\n}\n\n#main-dialog .projects button.edit {\n    height: 25px;\n    width: 25px;\n    background: url(${x}) no-repeat center;\n    filter: brightness(70%)\n}\n\n#main-dialog .projects button.edit:hover {\n    filter: none;\n}\n\n\ndialog form {\n    font-size: 20px;\n}\n\ndialog form div {\n    margin-top: 15px;\n}\n\ndialog form label {\n    display: block;\n    margin-bottom: 2px;\n}\n\ndialog form input {\n    box-sizing: border-box;\n    width: 100%;\n    padding: 5px;\n    border: none;\n    border-radius: 5px;\n    font-size: 15px;\n}\n\ndialog form textarea {\n    box-sizing: border-box;\n    width: 100%;\n    resize: none;\n    border: none;\n    border-radius: 5px;\n    font-size: 13px;\n}\n\ndialog .btns {\n    width: fit-content;\n    margin-left: auto;\n    margin-right: 0;\n}\n\ndialog .btns button {\n    font-size: 15px;\n    background: none;\n    border: none;\n    color: var(--off-white)\n}\n\ndialog .btns button[type=submit] {\n    background-color: var(--base-background);\n    font-size: 20px;\n    border-radius: 5px;\n    padding: 5px 10px;\n    margin-left: 5px;\n}\n`,""]);const L=v},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",a=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),a&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),a&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,a,o,r){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(a)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(i[d]=!0)}for(var c=0;c<t.length;c++){var u=[].concat(t[c]);a&&i[u[0]]||(void 0!==r&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=r),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),e.push(u))}},e}},417:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},601:t=>{t.exports=function(t){return t[1]}},72:t=>{var e=[];function n(t){for(var n=-1,a=0;a<e.length;a++)if(e[a].identifier===t){n=a;break}return n}function a(t,a){for(var r={},i=[],s=0;s<t.length;s++){var d=t[s],c=a.base?d[0]+a.base:d[0],u=r[c]||0,l="".concat(c," ").concat(u);r[c]=u+1;var h=n(l),m={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==h)e[h].references++,e[h].updater(m);else{var g=o(m,a);a.byIndex=s,e.splice(s,0,{identifier:l,updater:g,references:1})}i.push(l)}return i}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var r=a(t=t||[],o=o||{});return function(t){t=t||[];for(var i=0;i<r.length;i++){var s=n(r[i]);e[s].references--}for(var d=a(t,o),c=0;c<r.length;c++){var u=n(r[c]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}r=d}}},659:t=>{var e={};t.exports=function(t,n){var a=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,o&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(a,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},568:(t,e,n)=>{t.exports=n.p+"11aa4b62792bc1ce32da.svg"},487:(t,e,n)=>{t.exports=n.p+"aecc3425554d9eabaad7.svg"},429:(t,e,n)=>{t.exports=n.p+"dfa7326ce50ea9e55170.svg"},725:(t,e,n)=>{t.exports=n.p+"ae4ecf0074a9f57efa6f.svg"},37:(t,e,n)=>{t.exports=n.p+"8c2830d618b742bc5cfe.svg"},689:(t,e,n)=>{t.exports=n.p+"95e9798509a3fe6044a2.svg"},810:(t,e,n)=>{t.exports=n.p+"1c260932f9174b188c0e.svg"},569:(t,e,n)=>{t.exports=n.p+"0e7864dd6fed0f588de7.svg"},697:(t,e,n)=>{t.exports=n.p+"d2d7b1dc43d8a69be8b6.svg"},307:(t,e,n)=>{t.exports=n.p+"5a31b5c3083557dce74f.svg"},482:(t,e,n)=>{t.exports=n.p+"0bb5de6c4af736a5524f.svg"}},e={};function n(a){var o=e[a];if(void 0!==o)return o.exports;var r=e[a]={id:a,exports:{}};return t[a](r,r.exports,n),r.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var a=e.getElementsByTagName("script");if(a.length)for(var o=a.length-1;o>-1&&(!t||!/^http(s?):/.test(t));)t=a[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b=document.baseURI||self.location.href,n.nc=void 0;class a{static count=0;constructor({title:t,description:e="",priority:n=0,_priority:r,done:i=!1,checklist:s=[],dueDate:d}){this.id=a.count++,this.title=t,this.description=e,this.priority=n||r,this.done=i,this.checklist=s.map((t=>new o(t))),this.#t(d)}#t(t){if(t)if(10===t.length){const[e,n,a]=t.split("-");this.dueDate=new Date(e,n-1,a)}else this.dueDate=new Date(t);else this.dueDate=""}update({title:t,description:e,priority:n,dueDate:a}){this.title=t,this.description=e,this.priority=n,this.#t(a)}toggleDone(){return this.done=!this.done,this.done}get priority(){return this._priority}set priority(t){if(t<0||t>3)throw new Error("Priority value out of range 0 - 3");this._priority=t}addSubtask(t){this.checklist.push(new o({content:t}))}deleteSubtask(t){const e=this.#e(t);-1!==e&&this.checklist.splice(e,1)}toggleSubtask(t){const e=this.#e(t);-1!==e&&(this.checklist[e].done=!this.checklist[e].done)}editSubtask(t,e){const n=this.#e(t);-1!==n&&(this.checklist[n].content=e)}#e(t){return this.checklist.findIndex((e=>e.id===t))}}class o{static count=0;constructor({content:t,done:e=!1}){this.id=o.count++,this.content=t,this.done=e}}const r=a;class i{static count=0;constructor({title:t,description:e,tasks:n}){this.id=i.count++,this.title=t,this.description=e,this.tasks=n?n.map((t=>new r(t))):[]}update({title:t,description:e}){this.title=t,this.description=e}addTask(t){this.tasks.push(t)}deleteTask(t){const e=this.tasks.findIndex((e=>e.id===t));-1!==e&&this.tasks.splice(e,1)}getTask(t){return this.tasks.find((e=>e.id===t))}}const s=i,d=JSON.parse('[{"id":0,"title":"Inbox","description":"","tasks":[{"id":0,"title":"First task","description":"","_priority":"0","done":false,"checklist":[],"dueDate":""},{"id":1,"title":"Second task","description":"","_priority":"0","done":true,"checklist":[],"dueDate":""}]},{"id":1,"title":"New Project","description":"Description for my new project","tasks":[{"id":6,"title":"Low priority task","description":"","_priority":"1","done":false,"checklist":[],"dueDate":""},{"id":7,"title":"Medium priority task","description":"A task description","_priority":"2","done":false,"checklist":[],"dueDate":""},{"id":8,"title":"High priority task","description":"","_priority":"3","done":false,"checklist":[],"dueDate":""}]}]');localStorage.getItem("data")||localStorage.setItem("data",JSON.stringify(d));const c=new class{constructor(t){this.store=t.map((t=>new s(t)))}#n(t){const e=this.store.findIndex((e=>e.id===t));if(-1===e)throw new Error(`Project with id:${t} doesn't exist`);return e}getProject(t){const e=this.#n(t);return this.store[e]}#a(){localStorage.setItem("data",JSON.stringify(this.store))}addProject(t){const e=new s(t);return this.store.push(e),this.#a(),e}deleteProject(t){const e=this.#n(t);this.store.splice(e,1),this.#a()}updateProject(t,e){this.getProject(t).update(e),this.#a()}getAllProjectNames(){return this.store.map((t=>({title:t.title,id:t.id})))}getTask(t){for(const e of this.store){const n=e.getTask(t);if(n)return n}throw new Error(`Task with id:${t} doesn't exist`)}addTask(t,e){this.getProject(t).addTask(new r(e)),this.#a()}deleteTask(t){this.store.forEach((e=>{e.deleteTask(t)})),this.#a()}deleteDoneTasks(){this.store.forEach((t=>t.tasks.filter((t=>t.done)).forEach((t=>this.deleteTask(t.id)))))}updateTask(t,e){this.getTask(t).update(e),this.#a()}toggleTask(t){this.getTask(t).toggleDone(),this.#a()}createSubtask(t,e){this.getTask(t).addSubtask(e),this.#a()}deleteSubtask(t,e){this.getTask(t).deleteSubtask(e),this.#a()}editSubtask(t,e,n){const a=this.getTask(t);console.log({taskId:t,subtaskId:e,content:n}),a.editSubtask(e,n),this.#a()}toggleSubtask(t,e){this.getTask(t).toggleSubtask(e),this.#a()}}(JSON.parse(localStorage.getItem("data"))),u=(Math.pow(10,8),6048e5),l=864e5;function h(t){const e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new t.constructor(+t):"number"==typeof t||"[object Number]"===e||"string"==typeof t||"[object String]"===e?new Date(t):new Date(NaN)}function m(t){const e=h(t);return e.setHours(0,0,0,0),e}function g(t){const e=h(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function p(t,e){const n=m(t),a=m(e),o=+n-g(n),r=+a-g(a);return Math.round((o-r)/l)}const f={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function b(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const k={date:b({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:b({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:b({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},w={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function v(t){return(e,n)=>{let a;if("formatting"===(n?.context?String(n.context):"standalone")&&t.formattingValues){const e=t.defaultFormattingWidth||t.defaultWidth,o=n?.width?String(n.width):e;a=t.formattingValues[o]||t.formattingValues[e]}else{const e=t.defaultWidth,o=n?.width?String(n.width):t.defaultWidth;a=t.values[o]||t.values[e]}return a[t.argumentCallback?t.argumentCallback(e):e]}}const y={ordinalNumber:(t,e)=>{const n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:v({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:v({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:t=>t-1}),month:v({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:v({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:v({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function x(t){return(e,n={})=>{const a=n.width,o=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],r=e.match(o);if(!r)return null;const i=r[0],s=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(s)?function(t){for(let e=0;e<t.length;e++)if(t[e].test(i))return e}(s):function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e].test(i))return e}(s);let c;return c=t.valueCallback?t.valueCallback(d):d,c=n.valueCallback?n.valueCallback(c):c,{value:c,rest:e.slice(i.length)}}}const S={ordinalNumber:(T={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:t=>parseInt(t,10)},(t,e={})=>{const n=t.match(T.matchPattern);if(!n)return null;const a=n[0],o=t.match(T.parsePattern);if(!o)return null;let r=T.valueCallback?T.valueCallback(o[0]):o[0];return r=e.valueCallback?e.valueCallback(r):r,{value:r,rest:t.slice(a.length)}}),era:x({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:x({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:t=>t+1}),month:x({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:x({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:x({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var T;const j={code:"en-US",formatDistance:(t,e,n)=>{let a;const o=f[t];return a="string"==typeof o?o:1===e?o.one:o.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a},formatLong:k,formatRelative:(t,e,n,a)=>w[t],localize:y,match:S,options:{weekStartsOn:0,firstWeekContainsDate:1}};let D={};function P(){return D}function B(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function M(t){const e=h(t);return p(e,function(t){const e=h(t),n=B(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}(e))+1}function E(t,e){const n=P(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=h(t),r=o.getDay(),i=(r<a?7:0)+r-a;return o.setDate(o.getDate()-i),o.setHours(0,0,0,0),o}function C(t){return E(t,{weekStartsOn:1})}function L(t){const e=h(t),n=e.getFullYear(),a=B(t,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const o=C(a),r=B(t,0);r.setFullYear(n,0,4),r.setHours(0,0,0,0);const i=C(r);return e.getTime()>=o.getTime()?n+1:e.getTime()>=i.getTime()?n:n-1}function I(t){const e=h(t),n=+C(e)-+function(t){const e=L(t),n=B(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),C(n)}(e);return Math.round(n/u)+1}function N(t,e){const n=h(t),a=n.getFullYear(),o=P(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,i=B(t,0);i.setFullYear(a+1,0,r),i.setHours(0,0,0,0);const s=E(i,e),d=B(t,0);d.setFullYear(a,0,r),d.setHours(0,0,0,0);const c=E(d,e);return n.getTime()>=s.getTime()?a+1:n.getTime()>=c.getTime()?a:a-1}function A(t,e){const n=h(t),a=+E(n,e)-+function(t,e){const n=P(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=N(t,e),r=B(t,0);return r.setFullYear(o,0,a),r.setHours(0,0,0,0),E(r,e)}(n,e);return Math.round(a/u)+1}function F(t,e){return(t<0?"-":"")+Math.abs(t).toString().padStart(e,"0")}const W={y(t,e){const n=t.getFullYear(),a=n>0?n:1-n;return F("yy"===e?a%100:a,e.length)},M(t,e){const n=t.getMonth();return"M"===e?String(n+1):F(n+1,2)},d:(t,e)=>F(t.getDate(),e.length),a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(t,e)=>F(t.getHours()%12||12,e.length),H:(t,e)=>F(t.getHours(),e.length),m:(t,e)=>F(t.getMinutes(),e.length),s:(t,e)=>F(t.getSeconds(),e.length),S(t,e){const n=e.length,a=t.getMilliseconds();return F(Math.trunc(a*Math.pow(10,n-3)),e.length)}},O={G:function(t,e,n){const a=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});default:return n.era(a,{width:"wide"})}},y:function(t,e,n){if("yo"===e){const e=t.getFullYear(),a=e>0?e:1-e;return n.ordinalNumber(a,{unit:"year"})}return W.y(t,e)},Y:function(t,e,n,a){const o=N(t,a),r=o>0?o:1-o;return"YY"===e?F(r%100,2):"Yo"===e?n.ordinalNumber(r,{unit:"year"}):F(r,e.length)},R:function(t,e){return F(L(t),e.length)},u:function(t,e){return F(t.getFullYear(),e.length)},Q:function(t,e,n){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return F(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,n){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return F(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,n){const a=t.getMonth();switch(e){case"M":case"MM":return W.M(t,e);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,n){const a=t.getMonth();switch(e){case"L":return String(a+1);case"LL":return F(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,n,a){const o=A(t,a);return"wo"===e?n.ordinalNumber(o,{unit:"week"}):F(o,e.length)},I:function(t,e,n){const a=I(t);return"Io"===e?n.ordinalNumber(a,{unit:"week"}):F(a,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getDate(),{unit:"date"}):W.d(t,e)},D:function(t,e,n){const a=M(t);return"Do"===e?n.ordinalNumber(a,{unit:"dayOfYear"}):F(a,e.length)},E:function(t,e,n){const a=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,n,a){const o=t.getDay(),r=(o-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(r);case"ee":return F(r,2);case"eo":return n.ordinalNumber(r,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,n,a){const o=t.getDay(),r=(o-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(r);case"cc":return F(r,e.length);case"co":return n.ordinalNumber(r,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,n){const a=t.getDay(),o=0===a?7:a;switch(e){case"i":return String(o);case"ii":return F(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const a=t.getHours();let o;switch(o=12===a?"noon":0===a?"midnight":a/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,n){const a=t.getHours();let o;switch(o=a>=17?"evening":a>=12?"afternoon":a>=4?"morning":"night",e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){let e=t.getHours()%12;return 0===e&&(e=12),n.ordinalNumber(e,{unit:"hour"})}return W.h(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getHours(),{unit:"hour"}):W.H(t,e)},K:function(t,e,n){const a=t.getHours()%12;return"Ko"===e?n.ordinalNumber(a,{unit:"hour"}):F(a,e.length)},k:function(t,e,n){let a=t.getHours();return 0===a&&(a=24),"ko"===e?n.ordinalNumber(a,{unit:"hour"}):F(a,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):W.m(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getSeconds(),{unit:"second"}):W.s(t,e)},S:function(t,e){return W.S(t,e)},X:function(t,e,n){const a=t.getTimezoneOffset();if(0===a)return"Z";switch(e){case"X":return Y(a);case"XXXX":case"XX":return z(a);default:return z(a,":")}},x:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"x":return Y(a);case"xxxx":case"xx":return z(a);default:return z(a,":")}},O:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+q(a,":");default:return"GMT"+z(a,":")}},z:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+q(a,":");default:return"GMT"+z(a,":")}},t:function(t,e,n){return F(Math.trunc(t.getTime()/1e3),e.length)},T:function(t,e,n){return F(t.getTime(),e.length)}};function q(t,e=""){const n=t>0?"-":"+",a=Math.abs(t),o=Math.trunc(a/60),r=a%60;return 0===r?n+String(o):n+String(o)+e+F(r,2)}function Y(t,e){return t%60==0?(t>0?"-":"+")+F(Math.abs(t)/60,2):z(t,e)}function z(t,e=""){const n=t>0?"-":"+",a=Math.abs(t);return n+F(Math.trunc(a/60),2)+e+F(a%60,2)}const H=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},$=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},R={p:$,P:(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],a=n[1],o=n[2];if(!o)return H(t,e);let r;switch(a){case"P":r=e.dateTime({width:"short"});break;case"PP":r=e.dateTime({width:"medium"});break;case"PPP":r=e.dateTime({width:"long"});break;default:r=e.dateTime({width:"full"})}return r.replace("{{date}}",H(a,e)).replace("{{time}}",$(o,e))}},U=/^D+$/,Q=/^Y+$/,G=["D","DD","YY","YYYY"];function X(t){if(!(e=t,e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)||"number"==typeof t))return!1;var e;const n=h(t);return!isNaN(Number(n))}const J=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,V=/^'([^]*?)'?$/,K=/''/g,Z=/[a-zA-Z]/;function tt(t,e,n){const a=P(),o=n?.locale??a.locale??j,r=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,s=h(t);if(!X(s))throw new RangeError("Invalid time value");let d=e.match(_).map((t=>{const e=t[0];return"p"===e||"P"===e?(0,R[e])(t,o.formatLong):t})).join("").match(J).map((t=>{if("''"===t)return{isToken:!1,value:"'"};const e=t[0];if("'"===e)return{isToken:!1,value:et(t)};if(O[e])return{isToken:!0,value:t};if(e.match(Z))throw new RangeError("Format string contains an unescaped latin alphabet character `"+e+"`");return{isToken:!1,value:t}}));o.localize.preprocessor&&(d=o.localize.preprocessor(s,d));const c={firstWeekContainsDate:r,weekStartsOn:i,locale:o};return d.map((a=>{if(!a.isToken)return a.value;const r=a.value;return(!n?.useAdditionalWeekYearTokens&&function(t){return Q.test(t)}(r)||!n?.useAdditionalDayOfYearTokens&&function(t){return U.test(t)}(r))&&function(t,e,n){const a=function(t,e,n){const a="Y"===t[0]?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(t,e,n);if(console.warn(a),G.includes(t))throw new RangeError(a)}(r,e,String(t)),(0,O[r[0]])(s,r,o.localize,c)})).join("")}function et(t){const e=t.match(V);return e?e[1].replace(K,"'"):t}class nt{static taskDoneBtn(t){const e=t.target.parentElement.parentElement;it.hideCompleted&&e.classList.add("hidden"),e.firstChild.classList.toggle("done");const n=Number(e.dataset.id);c.toggleTask(n)}static#o(t){const e=t.closest(".task-container"),n=Number(e.dataset.id);c.deleteTask(n),e.remove()}static taskNewBtn(t){it.showTaskAddModal()}static taskDeleteBtn(t){const e=t.target.parentElement.parentElement;nt.#o(e)}static taskEditBtn(t){const e=it.getTaskIdByNode(t.target),n=c.getTask(e);it.showTaskEditModal(n),it.redrawCurrent()}static taskToggleDetailsClick(t){"BUTTON"!==t.target.nodeName&&it.toggleTaskDetails(t.target)}static subtaskToggleDoneBtn(t){const{taskId:e,subtaskId:n}=it.getSubtaskIdByNode(t.target);c.toggleSubtask(e,n),it.toggleSubtaskDone(t.target)}static subtaskDeleteBtn(t){const{taskId:e,subtaskId:n}=it.getSubtaskIdByNode(t.target);c.deleteSubtask(e,n),it.deleteSubtaskContainer(t.target)}static subtaskEditBtn(t){const{taskId:e,subtaskId:n}=it.getSubtaskIdByNode(t.target),a=c.getTask(e).checklist.find((t=>t.id===n));console.log({subtaskId:n,taskId:e,subtask:a}),it.showSubtaskEditModal(e,a)}static subtaskAddBtn(t){const e=it.getTaskIdByNode(t.target);it.showSubtaskAddModal(e)}static tasksToggleHideCompletBtn(){it.toggleHideCompleteTasks()}static tasksDeleteCompleteBtn(){it.showCleanTasksConfirmation()}static tasksDeleteConfirmBtn(){c.deleteDoneTasks(),it.deleteDoneTaskContainers(),it.closeModal()}static taskEditSubmitForm(t){t.preventDefault();const e=it.editTask.title.value,n=it.editTask.description.value,a=it.editTask.priority.value,o=it.editTask.dueDate.value,r=Number(it.editTask.modal.dataset.id);c.updateTask(r,{title:e,description:n,priority:a,dueDate:o}),it.redrawCurrent(),it.editTask.modal.close()}static taskAddSubmitForm(t){t.preventDefault();const e=it.editTask.title.value,n=it.editTask.description.value,a=it.editTask.priority.value,o=it.editTask.dueDate.value;c.addTask(it.activeProject,{title:e,description:n,priority:a,dueDate:o}),it.redrawCurrent(),it.editTask.modal.close()}static subtaskEditSubmitForm(t){t.preventDefault();const e=it.editSubtask.content.value,n=Number(it.editSubtask.modal.dataset.taskId),a=Number(it.editSubtask.modal.dataset.subtaskId);c.editSubtask(n,a,e),it.redrawCurrent(),it.editSubtask.modal.close()}static subtaskAddSubmitForm(t){t.preventDefault();const e=it.editSubtask.content.value,n=Number(it.editSubtask.modal.dataset.taskId);console.log(e),c.createSubtask(n,e),it.redrawCurrent(),it.editSubtask.modal.close()}static projectSelectBtn(t){const e=c.getProject(t);return function(t){it.showProject(e),it.closeModal()}}static projectShowAllBtn(){it.showAllProjects(c.store),it.closeModal()}static projectListBtn(){const t=c.getAllProjectNames();it.showProjectListModal(t)}static projectAddBtn(){it.showProjectAddModal(),it.closeModal()}static projectEditBtn(t){const e=Number(t.target.dataset.id),n=c.getProject(e);it.showProjectEditModal(n),it.closeModal()}static projectEditSubmitForm(t){t.preventDefault();const e=it.editProject.title.value,n=it.editProject.description.value,a=Number(it.editProject.modal.dataset.id);c.updateProject(a,{title:e,description:n}),it.redrawCurrent(),it.editProject.modal.close()}static projectAddSubmitForm(t){t.preventDefault();const e=it.editProject.title.value,n=it.editProject.description.value,a=c.addProject({title:e,description:n});it.showProject(a),it.editProject.modal.close()}static projectDeleteBtn(t){it.showProjectDeleteConfirmation(),it.editProject.modal.close()}static projectDeleteConfirmBtn(t){const e=Number(t.target.dataset.id);c.deleteProject(e),it.showAllProjects(c.store),it.closeModal()}static taskSortByDueDateBtn(t){let e=["","increasing","decreasing"],n=0;return function(){n=(n+1)%3,it.actionBtns.sort.classList.remove("asc","desc"),1===n?it.actionBtns.sort.classList.add("asc"):2===n&&it.actionBtns.sort.classList.add("desc"),it.sortState=e[n],it.redrawCurrent()}}}const at=nt;class ot{static button(t,e){const n=document.createElement("button");return n.textContent=t,n.addEventListener("click",e),n}static text(t,e){const n=document.createElement(e);return n.textContent=t,n}static container(t){const e=document.createElement("div");return e.classList.add(t),e}static taskBasic(t,e,n,a){const o=ot.text(t,"p"),r=ot.button("",e);r.classList.add("checkBtn");const i=ot.button("",n);i.classList.add("deleteBtn");const s=ot.button("",a);s.classList.add("editBtn");const d=ot.container("right"),c=ot.container("taskBtns");return c.append(s,i),d.append(c),{text:o,checkBtn:r,rightContainer:d}}}class rt{static activeProject=-1;static hideCompleted=!1;static#r=document.getElementById("tasks-container");static sortState="";static modal=document.querySelector("dialog");static editProject={modal:document.getElementById("edit-project-dialog"),title:document.getElementById("edit-project-title"),description:document.getElementById("edit-project-description"),ghostBtn:document.querySelector("#edit-project-dialog button")};static editTask={modal:document.getElementById("edit-task-dialog"),title:document.getElementById("edit-task-title"),description:document.getElementById("edit-task-description"),priority:document.getElementById("edit-task-priority"),dueDate:document.getElementById("edit-task-dueDate"),ghostBtn:document.querySelector("#edit-task-dialog button")};static editSubtask={modal:document.getElementById("edit-subtask-dialog"),content:document.getElementById("edit-subtask-content"),ghostBtn:document.querySelector("#edit-subtask-dialog button")};static actionBtns={sort:document.getElementById("sortBtn"),hideTasks:document.getElementById("hideBtn"),cleanTasks:document.getElementById("cleanBtn"),newTask:document.getElementById("newBtn")};static showProject(t){this.changeActiveProject(t),this.#r.textContent="";const e=rt.sortTasks(t.tasks).map((t=>this.makeTaskContainer(t)));this.#r.append(...e)}static showAllProjects(t){this.#r.textContent="",this.changeActiveProject({title:"All Projects",id:0,description:""});for(const e of t){const t=document.createElement("div"),n=ot.text(e.title,"h2"),a=rt.sortTasks(e.tasks).map((t=>this.makeTaskContainer(t)));0===e.id?t.append(...a):t.append(n,...a),this.#r.appendChild(t)}}static redrawCurrent(){if(0===rt.activeProject)rt.showAllProjects(c.store);else{const t=c.getProject(rt.activeProject);rt.showProject(t)}}static sortTasks(t){return""===this.sortState?t:"increasing"===this.sortState?t.toSorted(((t,e)=>""===t.dueDate||""===e.dueDate?e.dueDate-t.dueDate:t.dueDate-e.dueDate)):"decreasing"===this.sortState?t.toSorted(((t,e)=>""===t.dueDate||""===e.dueDate?t.dueDate-e.dueDate:e.dueDate-t.dueDate)):void 0}static makeTaskContainer(t){const e=ot.container("task-container");t.done&&this.hideCompleted&&e.classList.add("hidden"),e.dataset.id=t.id;const n=this.makeTaskDiv(t),a=ot.text(t.description,"div");a.classList.add("description");const o=this.makeSubtaskContainer(t.checklist);return o.classList.add("hidden"),e.append(n,a,o),e}static makeTaskDiv(t){const e=ot.container("task");t.done&&e.classList.add("done"),e.dataset.priority=t.priority;const{text:n,checkBtn:a,rightContainer:o}=ot.taskBasic(t.title,at.taskDoneBtn,at.taskDeleteBtn,at.taskEditBtn);let r=ot.text("","p");if(""!==t.dueDate){const e=p(t.dueDate,new Date);let n;n=0===e?"Today":1===e?"Tomorrow":-1===e?"Yesterday":e<-1?Math.abs(e)+" days ago":e<=7?"next "+tt(t.dueDate,"EEEE"):tt(t.dueDate,"d MMM yyyy"),r.textContent=n}return o.prepend(r),e.append(a,n,o),e.addEventListener("click",at.taskToggleDetailsClick),e}static makeSubtaskContainer(t){const e=ot.container("subtask-container"),n=t.map((t=>this.makeSubtaskDiv(t))),a=ot.button("add subtask",at.subtaskAddBtn);return e.append(...n,a),e}static makeSubtaskDiv(t){const e=ot.container("subtask");e.dataset.id=t.id,t.done&&e.classList.add("done");const{text:n,checkBtn:a,rightContainer:o}=ot.taskBasic(t.content,at.subtaskToggleDoneBtn,at.subtaskDeleteBtn,at.subtaskEditBtn);return e.append(a,n,o),e}static toggleTaskDetails(t){t.closest(".task-container").querySelector(".subtask-container").classList.toggle("hidden")}static toggleSubtaskDone(t){t.closest(".subtask").classList.toggle("done")}static getTaskIdByNode(t){const e=t.closest(".task-container").dataset.id;return Number(e)}static getSubtaskIdByNode(t){return{taskId:this.getTaskIdByNode(t),subtaskId:Number(t.closest(".subtask").dataset.id)}}static deleteSubtaskContainer(t){t.closest(".subtask").remove()}static toggleHideCompleteTasks(){const t=document.querySelectorAll(".task.done");this.hideCompleted=!this.hideCompleted,this.hideCompleted?t.forEach((t=>t.parentNode.classList.add("hidden"))):t.forEach((t=>t.parentNode.classList.remove("hidden"))),this.actionBtns.hideTasks.classList.toggle("off")}static deleteDoneTaskContainers(){document.querySelectorAll(".task.done").forEach((t=>t.parentNode.remove()))}static makeProjectSelectModal(t){const e=[];for(const n of t){if(0===n.id)continue;const t=ot.button(n.title,at.projectSelectBtn(n.id)),a=ot.button("",at.projectEditBtn);a.dataset.id=n.id,a.classList.add("edit"),a.title="edit project";const o=document.createElement("div");o.classList.add("project"),o.append(t,a),e.push(o)}const n=ot.text("Choose a project","h2"),a=ot.button("All projects",at.projectShowAllBtn),o=ot.button("add project",at.projectAddBtn);o.classList.add("add");const r=document.createElement("div");return r.classList.add("projects"),r.append(n,a,...e,o),r}static changeActiveProject(t){document.getElementById("active-project").textContent=t.title,document.getElementById("project-description").textContent=t.description,this.activeProject=t.id}static makeProjectDeleteConfirmContainer(){const t=this.editProject.title.value,e=this.editProject.modal.dataset.id,n=ot.text(`Do you want to delete project "${t}"?`,"p"),a=ot.container("btns"),o=ot.button("cancel",(()=>this.modal.close())),r=ot.button("delete",at.projectDeleteConfirmBtn);r.type="submit",r.dataset.id=e,a.append(o,r);const i=document.createElement("div");return i.append(n,a),i}static showProjectDeleteConfirmation(){this.modal.textContent="",this.modal.append(this.makeProjectDeleteConfirmContainer()),this.modal.showModal()}static closeModal(){this.modal.close()}static closeEditProjectModal(){rt.editProject.modal.close()}static showProjectListModal(t){const e=this.makeProjectSelectModal(t);this.modal.textContent="",this.modal.append(e),this.modal.showModal()}static#i(t,e,n,a){t.removeEventListener(e,n),t.addEventListener(e,a)}static showProjectEditModal(t){this.editProject.title.value=t.title,this.editProject.description.value=t.description,this.editProject.modal.dataset.id=t.id,this.editProject.ghostBtn.textContent="Delete",this.#i(rt.editProject.modal,"submit",at.projectAddSubmitForm,at.projectEditSubmitForm),this.#i(this.editProject.ghostBtn,"click",rt.closeEditProjectModal,at.projectDeleteBtn),this.editProject.modal.showModal()}static showProjectAddModal(){this.editProject.title.value="",this.editProject.description.value="",this.editProject.ghostBtn.textContent="cancel",this.#i(this.editProject.modal,"submit",at.projectEditSubmitForm,at.projectAddSubmitForm),this.#i(this.editProject.ghostBtn,"click",at.projectDeleteBtn,this.closeEditProjectModal),this.editProject.modal.showModal()}static showTaskEditModal(t){this.editTask.title.value=t.title,this.editTask.description.value=t.description,this.editTask.priority.value=t.priority,this.editTask.dueDate.value=t.dueDate?tt(t.dueDate,"yyyy-MM-dd"):"",this.editTask.modal.dataset.id=t.id,this.#i(this.editTask.modal,"submit",at.taskAddSubmitForm,at.taskEditSubmitForm),this.editTask.modal.showModal()}static showTaskAddModal(){this.editTask.title.value="",this.editTask.description.value="",this.editTask.priority.value="0",this.editTask.dueDate.value="",this.#i(this.editTask.modal,"submit",at.taskEditSubmitForm,at.taskAddSubmitForm),this.editTask.modal.showModal()}static showSubtaskEditModal(t,e){this.editSubtask.content.value=e.content,this.editSubtask.modal.dataset.subtaskId=e.id,this.editSubtask.modal.dataset.taskId=t,this.#i(this.editSubtask.modal,"submit",at.subtaskAddSubmitForm,at.subtaskEditSubmitForm),this.editSubtask.modal.showModal()}static showSubtaskAddModal(t){this.editSubtask.content.value="",this.editSubtask.modal.dataset.taskId=t,this.#i(this.editSubtask.modal,"submit",at.subtaskEditSubmitForm,at.subtaskAddSubmitForm),this.editSubtask.modal.showModal()}static makeCleanTasksConfirmContainer(){const t=ot.text("Do you want to delete all completed tasks?","p"),e=ot.button("cancel",(()=>this.modal.close())),n=ot.button("delete",at.tasksDeleteConfirmBtn);n.type="submit";const a=ot.container("btns");a.append(e,n);const o=document.createElement("div");return o.append(t,a),o}static showCleanTasksConfirmation(){this.modal.textContent="",this.modal.append(this.makeCleanTasksConfirmContainer()),this.modal.showModal()}}rt.actionBtns.sort.addEventListener("click",at.taskSortByDueDateBtn()),rt.actionBtns.hideTasks.addEventListener("click",at.tasksToggleHideCompletBtn),rt.actionBtns.cleanTasks.addEventListener("click",at.tasksDeleteCompleteBtn),rt.actionBtns.newTask.addEventListener("click",at.taskNewBtn),document.getElementById("active-project").addEventListener("click",at.projectListBtn),document.querySelector("#edit-project-dialog button").addEventListener("click",at.projectDeleteBtn),rt.editTask.ghostBtn.addEventListener("click",(()=>rt.editTask.modal.close())),rt.editSubtask.ghostBtn.addEventListener("click",(()=>rt.editSubtask.modal.close()));const it=rt;var st=n(72),dt=n.n(st),ct=n(825),ut=n.n(ct),lt=n(659),ht=n.n(lt),mt=n(56),gt=n.n(mt),pt=n(540),ft=n.n(pt),bt=n(113),kt=n.n(bt),wt=n(208),vt={};vt.styleTagTransform=kt(),vt.setAttributes=gt(),vt.insert=ht().bind(null,"head"),vt.domAPI=ut(),vt.insertStyleElement=ft(),dt()(wt.A,vt),wt.A&&wt.A.locals&&wt.A.locals,it.showAllProjects(c.store)})();